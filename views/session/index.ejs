<div rim:session>
  <div class="rim-session">
    <svg class="rim-map" rim:map>
    </svg>

    <div class="rim-session-log" rim:session-log>
      <div class="rim-messages">
        <div
          class="rim-message rim-message-{{ message.type.split(':').pop() }}"
          ng:repeat="message in messages | orderBy:'createdAt':true">
          <div class="rim-message-body">{{ message.body }}</div>
          <div class="rim-message-timestamp">{{ message.createdAt | date:'shortTime' | lowercase }}</div>
        </div>
      </div>

      <form novalidate>
        <button type="button"
          class="rim-toggle rim-toggle-{{ message.ooc ? 'ooc' : 'ic' }}"
          ng:click="message.ooc = !message.ooc">
          {{ message.ooc ? 'OOC' : 'IC' }}
        </button>
        <input ng:model="message.body" autofocus>
        <button class="primary" ng:click="send(message)">Say</button>
      </form>
    </div>
  </div>
</div>
